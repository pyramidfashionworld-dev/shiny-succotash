"use strict";(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[1015],{nnpx:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n("D4hk"),o=n("sQwH"),a=n("qD8I"),s=n("CUcO"),r=n("8N4v"),c=n("Zfzx"),l=n("FUT3"),d=n("hayj"),u=n("xKIK"),h=n("Cgfs"),f=n("3Z9q"),v=n("jQKg"),g=n("X40V"),p=n("45Yh"),m=n("yTkX"),Z=(n("lotc"),n("Oyie"));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25;return new Z((function(i,o){var a={height:1/0},s=t.reduce((function(t,n){return Math.abs(n.height-e)<Math.abs(t.height-e)?n:t}),a);s.height>e*(1-n)&&s.height<e*(1+n)&&s!==a?i(s):o()}))},b=function(e){(0,c.Z)(n,e);var t=k(n);function n(e){var i;return(0,a.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,r.Z)(i),"state",{isVisible:!1,image:{width:100,height:100},containerWidth:1,containerHeight:1,loadingPercent:0,cursorX:0,startCursorX:0}),(0,u.Z)((0,r.Z)(i),"onStart",(function(){i.executeOnNextMove=function(){return i.debouncedLoadPreview()}})),(0,u.Z)((0,r.Z)(i),"onMove",(function(e){var t;i.executeOnNextMove&&(i.executeOnNextMove(),i.executeOnNextMove=void 0);var n=e.target.getBoundingClientRect(),o=n.width,a=n.left,s=(0,m.wv)(e),r=(s.x-a)/o;i.isActive()?i.setState({cursorX:r}):i.show(r);var c=null===(t=i.el)||void 0===t?void 0:t.getBoundingClientRect();c&&((s.x<c.x||s.x>c.x+c.width)&&i.onEnd(),(s.y<c.y||s.y>c.y+c.height)&&i.onEnd())})),(0,u.Z)((0,r.Z)(i),"onEnd",(function(){i.debouncedLoadPreview.cancel(),i.setState({isVisible:!1})})),(0,u.Z)((0,r.Z)(i),"isActive",(function(){return i.state.isVisible&&1===i.state.loadingPercent})),(0,u.Z)((0,r.Z)(i),"loadPreview",(function(){if(1!==i.state.loadingPercent&&i.el){var e=i.el.getBoundingClientRect(),t=e.width,n=e.height;i.setState({loadingPercent:.1,containerWidth:t,containerHeight:n}),v.Z.getModelFallback(i.props.modelUid).then((function(e){return i.setState({loadingPercent:.5}),e.results.images})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return w(i.props.targetHeight,e)})).then((function(e){return(0,p.po)(e.url).then((function(){return e}))})).then((function(e){i.setState({image:e,loadingPercent:1})})).catch((function(){i.setState({loadingPercent:0})}))}})),(0,u.Z)((0,r.Z)(i),"show",(function(e){i.state.isVisible||1!==i.state.loadingPercent||i.setState({isVisible:!0,cursorX:e,startCursorX:e})})),i.debouncedLoadPreview=(0,h.Z)(i.loadPreview.bind((0,r.Z)(i)),500),i}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.state.cursorX-this.state.startCursorX,n=Math.floor(15*t),a=this.state.image.width/15,s=(0,g.s7)(a,this.state.image.height,this.state.containerWidth,this.state.containerHeight,0),r=s.width,c=s.height,l=15*r,d=-n/14,u=1===this.state.loadingPercent,h=this.state.isVisible&&1===this.state.loadingPercent;return f.createElement("div",(0,i.Z)({},this.props.previewOnDrag?(0,m.QG)({onDragStart:this.onStart,onDrag:this.onMove,onDragEnd:this.onEnd}):{},{onMouseEnter:this.onStart,onMouseMove:this.onMove,onMouseLeave:this.onEnd,className:"c-model-360-preview",ref:function(t){return e.el=t}}),(0,o.Z)("div",{className:"c-model-360-preview__background ".concat(u?"--loaded":""," ").concat(h?"--visible":"")},void 0,(0,o.Z)("div",{className:"c-model-360-preview__image",style:{backgroundImage:this.state.image.url?"url(".concat(this.state.image.url,")"):"",backgroundPosition:"".concat(100*d,"% center"),backgroundSize:"".concat(l,"px ").concat(c,"px")}})),(0,o.Z)("div",{className:"c-model-360-preview__loading",style:{width:"".concat(100*this.state.loadingPercent,"%"),height:1===this.state.loadingPercent?0:void 0,backgroundColor:this.props.color}}))}}]),n}(f.Component);(0,u.Z)(b,"defaultProps",{color:"",previewOnDrag:!0,targetHeight:400})},AhsD:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n("D4hk"),o=n("xKIK"),a=n("3MRe"),s=n("3Z9q"),r=n("X40V"),c=["columns","children","className"];const l=function(e){var t=e.columns,n=e.children,l=e.className,d=(0,a.Z)(e,c);return s.createElement("div",(0,i.Z)({},d,{className:(0,r.AK)("c-grid__item","item",l,(0,o.Z)({},"--columns-".concat(t),Boolean(t)))}),n)}},VOMu:(e,t,n)=>{n.d(t,{Z:()=>l});var i,o,a,s=n("sQwH"),r=n("3Z9q"),c=n("XxrW");const l=function(e){return(0,s.Z)(r.Fragment,{},void 0,e.animationCount>0&&(i||(i=(0,s.Z)("span",{className:"help card-model__feature --animations"},void 0,(0,s.Z)("span",{className:"tooltip tooltip-up"},void 0,"Animated")))),"free"===e.downloadType?(0,s.Z)(c.Z,{"aria-label":"Download ".concat(e.name," 3D model"),model:e,className:"help card-model__feature --downloads",suffix:"#download"},void 0,o||(o=(0,s.Z)("span",{className:"tooltip tooltip-up"},void 0,"Download 3D model"))):"store"===e.downloadType?a||(a=(0,s.Z)("span",{className:"help card-model__feature --in-store"},void 0,(0,s.Z)("span",{className:"tooltip tooltip-up"},void 0,"Available on Store"))):null)}},"QFI+":(e,t,n)=>{n.d(t,{Z:()=>c});var i,o,a=n("sQwH"),s=n("3Z9q"),r=n("iu9k");const c=function(e){var t=e.model,n=e.withStaffpickFlag,c=void 0===n||n,l=e.withStaffpickLink,d=void 0!==l&&l,u=e.withRestrictedFlag,h=void 0===u||u,f=e.displayRecentlyStaffpicked,v=void 0!==f&&f&&t.recentlyStaffpicked,g=t.isRestricted;return(0,a.Z)(s.Fragment,{},void 0,t.staffpickedAt&&(i||(i=(0,a.Z)("meta",{itemProp:"award",content:"Staff Pick"}))),d&&t.staffpickedAt?(0,a.Z)("a",{href:(0,r.HQ)("models:staffpicks"),className:"flag --staffpicked",title:"See all staff picks"}):c&&t.staffpickedAt?(0,a.Z)("span",{className:"flag --staffpicked ".concat(v?"--with-text":""),title:"Staff Picks"}):null,h&&g?o||(o=(0,a.Z)("a",{href:"https://support.fab.com/s/article/What-is-Restricted-Content",target:"_blank",rel:"noopener noreferrer",className:"flag --restricted",title:"Restricted content"})):null)}},"DJY/":(e,t,n)=>{n.d(t,{Z:()=>s});var i=n("sQwH"),o=(n("3Z9q"),n("X40V")),a=n("p5Lb");const s=function(e){var t=e.likeCount,n=e.doesLike,s=e.onToggleLike,r=e.className,c=void 0===r?"":r,l=e.tooltipClassName,d=void 0===l?"tooltip-down":l;return(0,i.Z)("div",{onClick:s,className:(0,o.AK)("help","c-like-button","c-star-like-button",c,{"--liked":n})},void 0,(0,i.Z)("span",{className:"count"},void 0,(0,a.sH)(t)),(0,i.Z)("span",{className:"tooltip liked-content ".concat(d)},void 0,n?"Unlike":"Like"))}},NWyy:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n("3Z9q"),o=n("VDcQ"),a=n("+zma"),s=n("pLUK");function r(e){var t=e.model,n=e.children,r=(0,o.I0)(),c=(0,o.v9)((function(e){var n=e.entities.models[t.uid];return{authUserUid:a.wl.authUser.uid(e),doesLike:a.wl.authUser.doesLike(t.uid,e),likeCount:n?n.likeCount:t.likeCount,hasModelEntity:!!n}})),l=c.doesLike,d=c.likeCount,u=c.hasModelEntity,h=c.authUserUid,f=(0,s.Z)(i.useCallback((function(){return u||r(a.Nw.entities.update({models:[t]})),r(a.Nw.authUser.toggleLikeModel(t.uid))}),[t,r,u]));return i.useEffect((function(){h&&r(a.Nw.authUser.getDoesLike(t.uid))}),[r,t.uid,h]),n({doesLike:l,onToggleLike:f,likeCount:d})}}}]);