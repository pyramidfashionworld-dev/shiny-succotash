"use strict";(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[1691],{hpsH:(e,a,t)=>{t.d(a,{Z:()=>v});var i=t("D4hk"),o=t("Wch8"),s=t("sQwH"),r=t("y+4b"),n=t.n(r),c=t("3Z9q"),d=t("X40V"),l=t("vAnt"),m=t("hk5G"),u=t("Oyie");function v(e){var a,t,r,v=e.className,Z=e.cards,p=e.onLoadPrevious,f=e.onLoadNext,_=e.scrollableElement,g=void 0===_?window:_,h=e.gridSize,N=void 0===h?"normal":h,k=e.loading,b=void 0===k?"none":k,w=e.isLoading,P=void 0!==w&&w,y=e.hasPreviousPage,C=void 0!==y&&y,S=e.hasNextPage,L=void 0!==S&&S,x=e.maxAutoLoadedPages,A=void 0===x?3:x,D=e.emptyState,F=void 0===D?null:D,U=e.itemProp,E=e.itemScope,R=e.itemType,V=e.loadMoreButtonProps,B=void 0===V?{}:V,T=c.useRef(null),q=c.useRef(Z.length?1:0),z=c.useCallback((function(){return L&&q.current<A&&f?(q.current++,u.resolve(f())):u.resolve()}),[f,L,A]);(0,m.Z)(T,z,[z],g),a=Z,t=function(e,a){e.length>a.length&&(q.current=0)},r=c.useRef(a),c.useEffect((function(){var e=r.current;r.current=a,t(e,a)}),[a]);var H="refresh"===b,M=!P&&L,Q=!P&&C,I="none"===b&&!Z.length;return c.createElement("div",{ref:T,className:(0,d.AK)("grid","grid-cards","c-grid",v,"--".concat(N)),itemProp:U,itemScope:E,itemType:R},Q&&(0,s.Z)("div",{className:"c-grid__button --previous"},void 0,(0,s.Z)(l.Z,{text:"load previous",onClick:p,size:"large",loading:"previous"===b})),I?(0,s.Z)("div",{className:"c-grid__empty-state"},void 0,F):(0,s.Z)("div",{className:"c-grid__items items ".concat(H?"--refresh":"")},void 0,Z),M&&f&&(0,s.Z)("div",{className:"c-grid__button --next"},void 0,c.createElement(l.Z,(0,i.Z)({text:"load more",size:"large",onClick:(0,o.Z)(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:q.current=0;case 3:case"end":return e.stop()}}),e)}))),loading:"next"===b},B))))}},r8wh:(e,a,t)=>{t.d(a,{Z:()=>x});var i,o,s,r,n,c=t("sQwH"),d=t("3Z9q"),l=t("LLYa"),m=t("X40V"),u=t("dAEW"),v=t("p5Lb"),Z=t("AhsD"),p=t("6tbf"),f=t("N+9a"),_=t("nnpx"),g=t("VOMu"),h=t("QFI+"),N=t("ZZB/"),k=t("XxrW"),b=t("DJY/"),w=t("I0q+"),P=t("NWyy"),y=t("l9Gv"),C=t("laBL"),S=t("BNNE"),L=function(e){var a=e.deferImages,t=void 0===a||a,L=e.withStaffpickFlag,x=void 0===L||L,A=e.withRestrictedFlag,D=void 0===A||A,F=e.withStaffpickLink,U=void 0!==F&&F,E=e.renderQuickSettings,R=e.itemProp,V=void 0===R?"owns":R,B=e.model;return(0,c.Z)(Z.Z,{},void 0,(0,c.Z)("div",{className:"card card-model ".concat(C.Z.view),itemProp:V,itemScope:!0,itemType:"http://schema.org/3DModel","data-uid":B.uid},void 0,"associatedMedia"===V?(0,c.Z)(d.Fragment,{},void 0,i||(i=(0,c.Z)("data",{itemScope:!0,itemType:"http://schema.org/BlogPosting"})),(0,c.Z)("meta",{itemProp:"headline",content:B.name}),(0,c.Z)("meta",{itemProp:"image",content:(0,u.Z)(B.thumbnails,1024,768)}),(0,c.Z)("meta",{itemProp:"datepublished",content:B.publishedAt||""}),(0,c.Z)("meta",{itemProp:"description",content:B.description})):null,(0,c.Z)("meta",{itemProp:"commentCount",content:"".concat(B.publicCommentCount)}),(0,c.Z)("meta",{itemProp:"isBasedOnUrl",content:"".concat(B.viewerUrl,"/editor")}),(0,c.Z)("meta",{itemProp:"name",content:B.name}),(0,c.Z)("meta",{itemProp:"url",content:B.viewerUrl}),(0,c.Z)("meta",{itemProp:"isFamilyFriendly",content:"".concat(!B.isRestricted)}),(0,c.Z)("meta",{itemProp:"discussionUrl",content:"".concat(B.viewerUrl,"#comments")}),(0,c.Z)("div",{className:"card__main card-model__thumbnail"},void 0,(0,c.Z)(k.Z,{"aria-label":"Visit ".concat(B.name," 3D model"),model:B,className:(0,m.AK)("card-model__thumbnail-link",{"--grey":(0,l.ON)(B)&&B.isDisabled})},void 0,(0,c.Z)(p.Z,{alt:"".concat(B.name," 3D Model"),thumbnails:B.thumbnails,deferImages:t}),(0,c.Z)(y.Z,{},void 0,(function(){return(0,c.Z)("div",{className:"card__360-preview"},void 0,(0,c.Z)(_.Z,{modelUid:B.uid}))}))),(0,c.Z)("div",{className:"card__main__corner --top-left"},void 0,(0,c.Z)(h.Z,{model:B,withStaffpickLink:U,withStaffpickFlag:x,withRestrictedFlag:D,displayRecentlyStaffpicked:!0})),(0,c.Z)("div",{className:"card__main__corner --top-right"},void 0,d.createElement(g.Z,B))),(0,c.Z)("div",{className:(0,m.AK)("card__footer",{"--with-quick-settings":null!=E})},void 0,(0,c.Z)("div",{className:"card__footer__left"},void 0,B.org?(0,c.Z)(f.Z,{"aria-label":"Visit ".concat(B.org.username," profile"),className:"card__footer__avatar",to:"users:profile_summary",params:{username:B.org.username}},void 0,(0,c.Z)(w.Z,{alt:"Avatar of ".concat(B.org.username),avatars:B.org.avatars,size:18})):(0,c.Z)(S.Z,{uid:B.user.uid},void 0,(0,c.Z)("a",{"aria-label":"Visit ".concat(B.user.username," profile"),className:"card__footer__avatar",href:B.user.profileUrl,"data-user":B.user.uid},void 0,(0,c.Z)(w.Z,{alt:"Avatar of ".concat(B.user.username),avatars:B.user.avatars,size:18}))),(0,c.Z)("div",{className:"card__footer__vertical"},void 0,(0,c.Z)("div",{className:"card__footer__title"},void 0,(0,c.Z)(N.Z,{model:B}),B.isPublished?null:o||(o=(0,c.Z)("span",{className:"flag --draft"})),"isDisabled"in B&&B.isDisabled?(0,c.Z)("span",{className:C.Z.disabledFlag}):null))),(0,c.Z)("div",{className:"card__footer__right"},void 0,x&&B.staffpickedAt&&B.recentlyStaffpicked?(0,c.Z)(k.Z,{"aria-label":"Say congrats on ".concat(B.name," 3D model"),model:B,className:"card-model__congrats-link skfb-link",suffix:B.isPublished?"#comments":""},void 0,"Say Congrats!"):(0,c.Z)(y.Z,{},void 0,(function(){return(0,c.Z)(d.Fragment,{},void 0,(0,c.Z)("span",{className:"card__footer__stats --views help"},void 0,(0,c.Z)("span",{className:"count"},void 0,(0,v.sH)(B.viewCount)),s||(s=(0,c.Z)("span",{className:"tooltip tooltip-up"},void 0,"Views"))),(0,c.Z)(k.Z,{"aria-label":"Comment ".concat(B.name," 3D model"),model:B,className:"card__footer__stats --comments help",suffix:B.isPublished?"#comments":"",itemProp:"discussionUrl"},void 0,(0,c.Z)("span",{className:"count"},void 0,(0,v.sH)(B.publicCommentCount)),r||(r=(0,c.Z)("span",{className:"tooltip tooltip-up"},void 0,"Comment"))),(0,c.Z)(P.Z,{model:B},void 0,(function(e){var a=e.doesLike,t=e.onToggleLike,i=e.likeCount;return(0,c.Z)(b.Z,{className:"card__footer__stats --likes",tooltipClassName:"tooltip-up",likeCount:i,doesLike:a,onToggleLike:t})})),E&&(0,c.Z)("div",{className:"card__quick-settings"},void 0,n||(n=(0,c.Z)("i",{title:"Quick settings",className:"fa-regular fa-ellipsis-v"})),E()))}))))))};const x=d.memo(L,(function(e,a){return e.model.uid===a.model.uid}))}}]);